1.数据仓库模型
  a.星型模型
    星型模型是数据集市维度建模中推荐的建模方法。星型模型是以事实表为中心，所有的维度表直接连接在事实表上，像星星一样。星型模型的特点是数据组织直观，执行效率高。因为在数据集市的建设过程中，数据经过了预处理，比如按照维度进行了汇总，排序等等，数据量减少，执行的效率就比较高。
  b.雪花模型
    雪花模型也是维度建模中的一种选择。雪花模型的维度表可以拥有其他维度表的，虽然这种模型相比星型模型更规范一些，但是由于这种模型不太容易理解，维护成本比较高，而且性能方面需要关联多层维表，性能也比星型模型要低。所以一般不是很常用。
  星形模型与雪花模型的区别？
    1.星星的中心是一个大的事实表，发散出来的是维度表，每一个维度表用一个PK-FK连接到事实表，维度表之间彼此并不关联。一个事实表又包括一些度量值和维度。
    2.雪花模型通过规范维度表来减少冗余度，也就是说，维度表数据已经被分组成一个个的表而不是使用一个大表。例如产品表被分成了产品大类和产品小类两个表。尽管这样做可以节省了空间，但是却增加了维度表的数量和关联的外键的个数。这就导致了更复杂的查询并降低了数据库的效率
2.什么是数据仓库
  数据仓库是一个面向主题的、集成的、非易失的、随时间变化的，用来支持管理人员决策的数据集合，数据仓库中包含了粒度化的企业数据。
3.架构
  a.STAGE层(数据接入层)
    业务系统的数据接入到数据仓库时，首先将业务数据仓储到STAGE层中，Stage层作为一个临时缓冲区，并屏蔽对业务系统的干扰。 STAGE层中的表结构和数据定义一般与业务系统保持一致。 Stage中的数据可以每次全量接入也可以每次增量接入，一般都有会数据老化的机制，不用长期保存。 Stage的数据不会对外部开放。
  b.ODS层(基础数据层)
    ODS才是数据仓库真正意义上的基础数据，数据是被清洗过的，ODS层的数据是定义统一的、可以体现历史的、被长期保存的数据。ODS层的数据粒度与Stage层数据粒度是一致的。Stage层中的数据是完全形式的源数据，需要进行清洗才能进入ODS层，所以说ODS层是数据仓库格式规整的基础数据，为上层服务。
  c.MDS层(主题层)
    MDS是数据仓库中间层，数据是以主题域划分的，并根据业务进行数据关联形成宽表，但是不对数据进行聚合处理，MDS层数据为数据仓库的上层的统计、分析、挖掘和应用提供直接支持。 MDS层的数据也可以执行一定的老化策略。
  d.ADS层(数据集市层)
    ADS层是数据仓库的应用层，一般以业务线或者部门划分库。这一层可以为各个业务线创建一个数据库。 ADS层的数据是基于MDS层数据生成的业务报表数据，可以直接作为数据仓库的输出导出到外部的操作型系统中（MySQL、MSSQL、Hbase、Elasticsearch等）。
  e.DIM层(维度层)
    DIM层是数据仓库数据中，各层公用的维度数据。比如：省市县数据。
  f.ETL调度系统
    对接入数据仓库的数据进行清洗、数据仓库各层间数据流转都需要大量的程序任务来操作，这些任务一般都是定时的，并且之间都是有前后依赖关系的，为了能保证任务的有序执行，就需要一个ETL调度系统来管理。
  g.元数据管理系统
    描述数据的数据叫做元数据，元数据信息一般包括表名、表描述信息、所在数据库、表结构、存储位置等基本信息，另外还有表之间的血缘关系信息、每天的增量信息、表结构修改记录信息等等。 数据仓库中有大量的表，元数据管理系统就是用来收集、存储、查询数据仓库中元数据的工具，这个系统为数据使用方提供了极大的便利。
4.拉链表
  维护历史状态，以及最新状态数据的一种表，拉链表根据拉链粒度的不同，实际上相当于快照，只不过做了优化，去除了一部分不变的记录而已,通过拉链表可以很方便的还原出拉链时点的客户记录。
  拉链表只是维护一个全量数据
  1. dw_begin_date表示该条记录的生命周期开始时间，dw_end_date表示该条记录的生命周期结束时间；
  2. dw_end_date = '9999-12-31'表示该条记录目前处于有效状态；
  3. 如果查询当前所有有效的记录，则select * from order_his where dw_end_date = '9999-12-31'
  4. 如果查询2012-06-21的历史快照，则select * from order_his where dw_begin_date <= '2012-06-21' and end_date >= '2012-06-21'，这条语句会查询到以下记录：
5.维度表
  存放着一些维度属性，例如时间维度：年月日时；地域维度：省份，城市；年龄维度：老年，中年，青年；职称维度：高，中，低。它定义了可以从哪些角度分析事实表。
  维度表包含了维度的每个成员的特定名称。维度成员的名称称为“属性”(Attribute)。假设Product维度中有3种产品
6.事实表
  放着一些业务产生的数据，例如：商品订购产生的订单信息，银行的流水信息，erp系统的办公信息。但它不仅存放着上述事实信息，而且存放在事实信息与维度信息关联的键值，例如订单信息里面有日期字段可以和时间维度关联，可以通过银行中的个税流水与收入维度关联量化各个收入群体，erp流水中的员工号可以同职称维度表关联统计公司运行状态。

  在多维数据仓库中，保存度量值的详细值或事实的表称为“事实表”
